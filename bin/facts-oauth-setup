#!/usr/bin/env ruby

$: << File.expand_path('lib')

require 'rubygems'
require 'bundler'

Bundler.require

require 'facts'

# Bootstrap configuration
begin
  require_relative File.join('..', 'config', 'app')
rescue LoadError
  $stderr.puts "no configuration file!"
  exit(1)
end

begin
  Facts::Setup.new.run
rescue Facts::ConfError => e
  $stderr.puts "need configuration: #{e.conf}"
end
